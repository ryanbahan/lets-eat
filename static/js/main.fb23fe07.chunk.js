(this["webpackJsonplets-eat"]=this["webpackJsonplets-eat"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),i=n.n(o),s=(n(16),n(1)),c=n(2),l=n(4),u=n(3),m=n(5),d=n(6),p=n.n(d),f=n(9),h=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=e.map((function(e){return e.genre.split(",")})).flat();return Object(m.a)(new Set(t))},y=function(e){var t=e.map((function(e){return e.state})).sort();return Object(m.a)(new Set(t))},v=function(e,t,n){var r=e.filter((function(e){return x(t,e)})).filter((function(e){return b(t,e.genre)})),a=w(r,n);return E(a)},x=function(e,t){return!e.find((function(e){return e===t.state}))},b=function(e,t){var n=t.split(",");return!e.find((function(e){return n.find((function(t){return t===e}))}))},w=function(e,t){if(t){var n=new RegExp(t,"gi");return e.filter((function(e){return e.name.match(n)||e.city.match(n)||e.genre.match(n)}))}return e},E=function(e){return e.sort((function(e,t){return e.name>t.name?1:-1}))},j=a.a.createContext(),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={restaurants:[],filters:[],searchText:"",pageIndex:1},e.update=function(t){e.setState(t)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;h().then((function(t){return e.setState({restaurants:t})}))}},{key:"render",value:function(){return a.a.createElement(j.Provider,{value:{state:this.state,update:this.update}},this.props.children)}}]),n}(a.a.Component),C={display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gridTemplateRows:"1fr 1fr 1fr",position:"absolute",backgroundColor:"#fff",border:"solid 0.5px rgba(0,0,0,0.25)",borderRadius:"0.25rem",padding:"0.5rem"},O={width:"55vw",minWidth:"25rem",maxWidth:"50rem"},S={margin:"1rem 0.25rem 0 0.25rem",cursor:"pointer"},I={width:"55vw",minWidth:"25rem",maxWidth:"50rem"},R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).toggleDropdown=function(t){e.setState({dropdown:!e.state.dropdown})},e.closeModal=function(t){e.setState({dropdown:!1})},e.checkFilteredItems=function(t){return!e.context.state.filters.find((function(e){return e===t}))},e.updateForm=function(t){e.context.update({pageIndex:1});var n,r=e.context.state.filters;n=r.find((function(e){return e===t}))?r.filter((function(e){return e!==t})):r.concat([t]),e.context.update({filters:Object(m.a)(n)})},e.getListItems=function(t){return t.map((function(t){return a.a.createElement("div",{key:t,style:{display:"flex",alignItems:"baseline",padding:"0.5rem"}},a.a.createElement("input",{type:"checkbox",onClick:function(){return e.updateForm(t)},defaultChecked:e.checkFilteredItems(t)}),a.a.createElement("p",{id:t},t))}))},e.displayList=function(t){var n=e.getListItems(t);return a.a.createElement("div",{className:"filter-dropdown",style:C},n)},e.state={dropdown:!1},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{flexWrap:"wrap"}},a.a.createElement("button",{type:"button",onClick:function(){return e.toggleDropdown()},style:{cursor:"pointer",fontSize:"1.5rem",border:"solid 0.5px rgba(0,0,0,0.25)",borderRadius:"0.25rem",padding:"0.75rem",margin:"0.5rem"}},this.props.name,a.a.createElement("i",{className:"fas fa-caret-down"})),this.state.dropdown&&this.displayList(this.props.items))}}]),n}(a.a.Component);R.contextType=j;var W=R,N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).clearFilters=function(){e.context.update({filters:[]})},e.update=function(t){e.context.update({searchText:t.target.value}),e.context.update({pageIndex:1})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.context.state.restaurants;return a.a.createElement("form",{className:"Form",style:{display:"flex",flexWrap:"wrap",border:"solid 0.5px rgba(0,0,0,0.15)",borderRadius:"0.25rem",boxShadow:"0.5px 1px 5px rgba(0,0,0,0.05)",width:"55vw",minWidth:"25rem",maxWidth:"50rem",justifyContent:"center",alignItems:"center"}},a.a.createElement("input",{type:"text",onChange:this.update,id:"searchText",placeholder:"Search...",style:{height:"3rem",fontSize:"1.5rem",flexGrow:"1",paddingLeft:"0.5rem",margin:"1rem 1rem 1rem 0.5rem"}}),a.a.createElement("div",{style:{display:"flex",flexBasis:"100%"}},a.a.createElement(W,{name:"State",items:y(e)}),a.a.createElement(W,{name:"Cuisine",items:g(e)}),a.a.createElement("button",{type:"button",style:{cursor:"pointer",fontSize:"1.5rem",border:"solid 0.5px rgba(0,0,0,0.25)",borderRadius:"0.25rem",padding:"0.75rem",margin:"0.5rem"},onClick:this.clearFilters},"Clear filters")))}}]),n}(a.a.Component);N.contextType=j;var D=N,T=n(10),z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).toggleDropdown=function(t){e.setState({dropdown:!e.state.dropdown})},e.state={dropdown:!1},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.restaurantData,n=t.name,r=t.genre,o=t.address1,i=t.city,s=t.state,c=t.zip,l=t.telephone,u=t.website,m=t.tags,d={fontSize:"1.5rem",cursor:"pointer",margin:"0.25rem 0.5rem"},p={display:"block",padding:"0.5rem 0",fontWeight:"600",color:"#000"};return a.a.createElement("div",{className:"RestaurantRow",style:{border:"solid 0.5px rgba(0,0,0,0.25)",borderRadius:"0.25rem",boxShadow:"0.5px 1px 5px rgba(0,0,0,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",margin:"0.5rem 0",padding:"0 1rem"}},a.a.createElement("p",{onClick:function(){return e.toggleDropdown()},style:{fontSize:"1.25rem",cursor:"pointer"}},n),a.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},a.a.createElement("a",{href:"tel:".concat(l),style:p},a.a.createElement("i",{className:"fas fa-phone-volume",style:d})),a.a.createElement("i",{onClick:function(){return e.toggleDropdown()},className:"fas fa-caret-down",style:d})),this.state.dropdown&&a.a.createElement("div",{className:"RestaurantRowDropdown",style:{flexBasis:"100%"}},a.a.createElement("p",null,r),a.a.createElement("p",null,o),a.a.createElement("p",null,i,", ",s,", ",c),a.a.createElement("a",{href:"tel:".concat(l),style:p},l),a.a.createElement("a",{href:u,style:p},u),a.a.createElement("p",null,"tags: ",m)))}}]),n}(a.a.Component),F=function(e){var t=e.length,n=void 0===t?0:t;return a.a.createElement(j.Consumer,null,(function(e){return a.a.createElement("div",{className:"Paginator",style:O},function(e,t){for(var n=[],r=0;r<e/10;r++)n.push(r+1);return n.map((function(e){return a.a.createElement("button",{type:"button",key:e,style:S,onClick:function(){return t({pageIndex:parseInt(e)})}},e)}))}(n,e.update))}))},L=function(){var e=function(e,t,n){return v(e,t,n).length};return a.a.createElement(j.Consumer,null,(function(t){return a.a.createElement("div",{className:"RestaurantsContainer",style:I},a.a.createElement(F,{length:e(t.state.restaurants,t.state.filters,t.state.searchText)}),(n=t.state.restaurants,r=t.state.filters,o=t.state.searchText,i=t.state.pageIndex,function(e,t){return e.slice(10*t-10,10*t)}(v(n,r,o),i).map((function(e){return a.a.createElement(z,{key:e.id,restaurantData:Object(T.a)({},e)})}))),!e(t.state.restaurants,t.state.filters,t.state.searchText)&&a.a.createElement("div",{style:{margin:"2.5rem 0"}},a.a.createElement("p",null,"Sorry, nothing matches your search - try again!")));var n,r,o,i}))},A={position:"relative",display:"flex",flexDirection:"column",alignItems:" center",justifyContent:"center",padding:"2.5rem 0 10rem 0"},B=function(){return a.a.createElement(k,null,a.a.createElement("div",{className:"App",style:A},a.a.createElement("h1",null,"Let's Eat!"),a.a.createElement(D,null),a.a.createElement(L,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.fb23fe07.chunk.js.map